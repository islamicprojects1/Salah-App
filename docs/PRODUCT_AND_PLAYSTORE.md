# تقييم المنتج وخطة متجر بلاي — صلاة (Salah App)

## منظور المنتج: ما الذي ينقص؟ أين المشاكل؟

### 1. الموقع والمواقيت (تم إصلاح جزء منه)

- **المشكلة:** لو فشل الـ GPS كان التطبيق يعرض "مكة المكرمة (افتراضي)" كأنها مدينة المستخدم — فمثلاً مستخدم في الأردن يرى أن موقعه "مكة" وهذا غير منطقي.
- **ما تم:** 
  - عند استخدام الموقع الافتراضي (مكة) لا نعرضها كمدينة المستخدم، بل نعرض: **"المواقيت حسب مكة (لم يُحدد موقعك)"**.
  - في الإعدادات: قسم **الموقع** مع زر **"تحديث الموقع"** لتحديث GPS وإعادة حساب المواقيت.
- **ما زال مقترحاً للمستقبل:** إضافة **اختيار يدوي للمدينة/الدولة** (قائمة أو بحث) لمن يرفض تفعيل الموقع أو عندما يفشل GPS بشكل دائم.

---

### 2. القبلة (Qibla)

- البوصلة والزاوية محسوبان بشكل صحيح من موقع المستخدم إلى الكعبة.
- **ملاحظات:**
  - على بعض الأجهزة البوصلة تكون غير مستقرة (تداخل مغناطيسي) — التطبيق يستخدم تنعيم (smoothing) ونافذة معايرة؛ يمكن إضافة جملة توضيحية: "لأفضل نتيجة استخدم التطبيق في مكان مفتوح بعيد عن المعادن."
  - لا توجد مشكلة منطقية في "اختيار مكة وأنه في الأردن" — الموقع يُؤخذ من GPS فقط؛ لا يوجد اختيار منفصل لمدينة ودولة ينتج تناقضاً.

---

### 3. تجربة المستخدم الأولى (Onboarding)

- التأكد من أن الشاشات الأولى تشرح بسرعة: **لماذا نحتاج الموقع** (مواقيت دقيقة)، **لماذا الإشعارات** (تذكير بالصلاة)، و**العائلة** (متابعة معاً).
- طلب الصلاحيات في السياق (عند الحاجة) مع شرح قصير يزيد القبول ويقلل الحذف من الإعدادات.

---

### 4. وضوح القيمة (Value proposition)

- على متجر بلاي المستخدم يقرأ الوصف خلال ثوانٍ. يجب أن يكون واضحاً:
  - **ماذا يفعل التطبيق:** مواقيت صلاة، تسجيل الصلوات، قبلة، عائلة لمتابعة الصلاة معاً.
  - **ما الذي يمييزه:** عائلة، تشجيع، ستريك، بدون إعلانات (إن كان كذلك).
- لقطة شاشة واحدة على الأقل تظهر "العائلة" أو "المتابعة مع العائلة" تعزز الفكرة.

---

### 5. استقرار وثقة

- التأكد من: عدم تعطل التطبيق عند انقطاع النت، سلوك واضح عند رفض الموقع أو الإشعارات، وعدم ظهور شاشة بيضاء عند فتح التطبيق.
- رسائل خطأ واضحة بالعربية (مثل: "تعذر تحديد الموقع. المواقيت مؤقتاً حسب مكة. يمكنك تحديث الموقع من الإعدادات.").

---

## خطة إعداد التطبيق لمتجر Google Play

### أ. متطلبات ضرورية من Google

| البند | الحالة / المطلوب |
|--------|-------------------|
| **سياسة الخصوصية (Privacy Policy)** | مطلوب. يجب أن تكون صفحة ويب متاحة للجميع وتوضح: ما البيانات المجمعة (حساب، بريد، موقع، سجل صلوات)، ولماذا، ولمن تُعطى (Firebase)، وكيف يمكن حذف الحساب. |
| **صلاحية الوصول للبيانات (Data safety)** | في لوحة Play Console: الإعلان عن "الموقع" و"المعرفات" (مثل User ID) و"بيانات التطبيق" (سجل الصلاة) حسب ما يطلب النموذج. |
| **الحساب الداخلي (Testing)** | حساب مطور + تكوين التطبيق (App signing، إصدار أول). |
| **الفئة والعمر** | اختيار فئة مناسبة (مثلاً Lifestyle أو Social) وتحديد الفئة العمرية حسب المحتوى (عادة 3+ إذا لا يوجد محتوى حساس). |

### ب. تحسينات قبل النشر

1. **اللغة والترجمة**
   - كل النصوص التي يراها المستخدم يجب أن تكون عبر ملفات الترجمة (مثل `.tr`) وليس نصوصاً ثابتة بالعربية فقط؛ حتى لو التطبيق عربي فقط حالياً، ذلك يسهل إضافة الإنجليزية لاحقاً ويرفع جودة التطبيق.

2. **الموقع**
   - تم: وضوح رسالة "المواقيت حسب مكة (لم يُحدد موقعك)" + تحديث الموقع من الإعدادات.
   - لاحقاً: إضافة اختيار مدينة/دولة يدوياً لتحسين التجربة عندما لا يتوفر GPS.

3. **الإشعارات**
   - ربط مفتاح "إشعارات الصلاة" في الإعدادات بحالة الإشعارات الفعلية (تفعيل/إيقاف) حتى لا يظن المستخدم أن الإعداد لا يعمل.

4. **الشاشة الأولى والتحميل**
   - شاشة splash أو تحميل واضحة مع شعار التطبيق؛ تجنب شاشة بيضاء عند فتح التطبيق لأول مرة أو عند بطء النت.

5. **الانطباع الأول**
   - بعد التسجيل أو تسجيل الدخول: إما إكمال إعداد الملف الشخصي (الاسم، تاريخ الميلاد) أو الانتقال مباشرة إلى الشاشة الرئيسية مع مواقيت واضحة وقائمة صلوات يمكن النقر عليها.

### ج. بعد النشر

- مراقبة تقييمات وتعاريف المستخدمين (خصوصاً "الموقع"، "المواقيت"، "القبلة") والرد بأدب مع توضيح كيفية تحديث الموقع أو الإشعارات.
- تحديث دوري صغير (إصلاح أخطاء، تحسين وضوح النصوص) يظهر للمستخدم أن التطبيق يُصان.

---

## ملخص سريع: كيف تزبط المشروع وينجح على متجر بلاي

1. **المنطق والوضوح:** عدم عرض "مكة" كمدينة المستخدم عندما لم يُحدد موقعه — تم بمعيار العرض الجديد + قسم الموقع في الإعدادات.
2. **القبلة:** المنطق سليم؛ يمكن إضافة جملة توضيحية لتحسين تجربة البوصلة على الأجهزة السيئة.
3. **متجر بلاي:** وجود سياسة خصوصية، إكمال Data safety، وصف وواضح ولقطات شاشة تعرض القيمة (مواقيت، عائلة، قبلة)، وإشعارات مربوطة فعلياً بالإعدادات.
4. **تجربة المستخدم:** onboarding قصير يشرح الصلاحيات، ورسائل خطأ واضحة بالعربية، وسلوك متوقع عند انقطاع النت أو رفض الصلاحيات.

بهذا يكون المشروع أوضح للمستخدم وأقرب لمتطلبات النجاح على متجر بلاي.
