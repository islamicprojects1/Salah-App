# برومت لـ Claude: تحسين دراسة صفحة العائلة وتغطية كل السيناريوهات وتجربة المستخدم

استخدم هذا البرومت مع Claude لتحسين وثيقة `docs/FAMILY_FEATURE_STUDY.md` وتعميقها.

---

## المهمة

اقرأ `docs/FAMILY_FEATURE_STUDY.md` بالكامل، ثم:

1. **حسّن الدراسة** — أضف ما ينقص، ووضوحاً أكبر للرؤية، والأولويات، والتفاصيل التنفيذية.
2. **ادرس كل السيناريوهات** — لكل ميزة (إنشاء عائلة، انضمام، يصلّي الآن، غرفة انتظار، إشعارات، دعاء، تشجيع، إلخ) اذكر:
   - من يفعل الفعل؟
   - ماذا يرى باقي العائلة (والمستخدم نفسه) في اللحظة؟
   - ماذا يحدث إن فشل (لا إنترنت، خطأ، مستخدم غادر التطبيق)؟
   - ما التدفق الكامل من الضغط حتى ظهور النتيجة؟
3. **حدّد تجربة المستخدم (UX) الواجبة** — لكل شاشة وقسم:
   - ما الذي يجب أن يراه المستخدم أولاً؟
   - ما الترتيب المنطقي للعناصر؟
   - ما الرسائل والألوان والحالات (تحميل، خطأ، فارغ)؟
   - ماذا عن المستخدم الوحيد (بدون عائلة)؟ وماذا عن المدير مقابل العضو؟
4. **ربط الدراسة بالـ Backend** — كل منطق بديل لـ Cloud Functions يجب أن يكون موثّقاً في الدراسة ويُطبَّق في مجلد `backend/` (Express). تأكد أن الدراسة تشير صراحة إلى:
   - أن الـ Backend الكامل للتطبيق (إشعارات، وأي منطق خادم مطلوب) موجود في `backend/`.
   - قائمة واضحة بما يجب أن يفعله كل endpoint أو listener في الـ backend.

---

## المخرجات المطلوبة

1. **نسخة محدّثة من `FAMILY_FEATURE_STUDY.md`** تتضمن:
   - قسم "السيناريوهات الكاملة" يغطي كل مسار مستخدم (سعيد، خطأ، حدود).
   - قسم "تجربة المستخدم (UX) الواجبة" يحدد لكل واجهة: الهدف، الترتيب، الحالات، الرسائل.
   - قسم "الربط مع الـ Backend (Express)" يوضح أن كل شيء بديل لـ Cloud Functions يُنفَّذ في `backend/` مع إشارة إلى الملفات أو المسارات المسؤولة.
2. **لا تغيير على كود التطبيق أو الـ backend في هذا البرومت** — المطلوب فقط تحسين الوثيقة والربط مع الـ backend.

---

## نقاط يجب أن تغطيها الدراسة بعد التحسين

- **السيناريوهات:** مستخدم جديد بدون عائلة، انضمام بعائلة، إنشاء عائلة، يصلّي الآن، ينتظر، يسجّل صلاة، دعاء "اللهم تقبل"، تشجيع، عضو جديد انضم (للمدير)، انتهاء كود الدعوة، عدم اتصال، خطأ من الخادم.
- **تجربة المستخدم:** الصفحة الرئيسية (التاب الأول) vs تاب العائلة، ترتيب الأقسام (من يصلّي الآن، غرفة انتظار، النبض، الملخص X/Y، قائمة الأعضاء)، حالة التحميل والخطأ والفارغ، احترام إعدادات الإشعارات.
- **الـ Backend:** الإشعارات (FCM) من Express، مراقبة Firestore وإرسال الإشعارات، أي API اختياري للتطبيق، وأين يُوثَّق كل هذا (الدراسة + `backend/README.md`).

---

## مرجع سريع

- الدراسة الحالية: `docs/FAMILY_FEATURE_STUDY.md`
- الـ Backend (بديل Cloud Functions): مجلد `backend/` — كل المنطق الخادم والإشعارات يُكتب هنا.

استخدم هذا البرومت كما هو أو أضف له سياقاً إضافياً (مثلاً لغة الوثيقة، أو تركيز على سيناريو معيّن) ثم اطلب من Claude تنفيذ المهمة.
