# ุฃูุถู 5 ุชุญุณููุงุช ุฎุงุฑูุฉ ููุชุทุจูู

ุชุญุณููุงุช **ุชุญููููุฉ** โ ุชุฑูุน ุงูุชุทุจูู ูู "ุฌูุฏ" ุฅูู "ูุง ุฃุณุชุบูู ุนูู"ุ ูุชุฒูุฏ ุงูุงูุชุฒุงู ูุงูุงุญุชูุงุธ ุจุงููุณุชุฎุฏููู.

---

## 1. ููุฏุฌุช ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ (Home Widget)

**ุงูููุฑุฉ:** ุธููุฑ ุงูุชุทุจูู ุนูู ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ ุจุฏูู ูุชุญู: ุงูููุช ุงููุชุจูู ูุตูุงุฉ ุงููุงุฏูุฉ + ุงูุณูุณูุฉ ุงูููููุฉ (streak).

**ููุงุฐุง ุฎุงุฑู:**
- ุงูุชุทุจูู ูุจูู ูู ุนูู ุงููุณุชุฎุฏู ูู ููู.
- ุชูููู ุงููุณูุงู: "ูู ุจุงูู ุนูู ุงููุบุฑุจุ" ููุฌุงุจ ูู ุงูููุฏุฌุช.
- ุฅููุงููุฉ ุฅุถุงูุฉ **ุฅุฌุฑุงุก ุณุฑูุน**: "ุณุฌููุช" ูู ุงูููุฏุฌุช โ ููุชุญ ุงูุชุทุจูู ุนูู ุชุณุฌูู ุงูุตูุงุฉ ุงูุญุงููุฉ (ุฃู ุญุชู ุชุณุฌูู ูู ุงูููุฏุฌุช ุฅู ููุญุช ุงูููุตุฉ ุงูุตูุงุญูุงุช).

**ุชูููุฐ ููุชุฑุญ:**
- Flutter: `home_widget` ุฃู ุงูู platform-specific (iOS Widget Extension / Android App Widget).
- ููุฏุฌุช ุจุณูุท: "ุงูุตูุงุฉ ุงููุงุฏูุฉ: ุงูุนุตุฑ โ ุจุนุฏ ูขูฅ ุฏูููุฉ" + "ุณูุณูุชู: ูง ุฃูุงู".
- ุชุญุฏูุซ ุฏูุฑู (ูู ูกูฅ ุฏูููุฉ ุฃู ุนูุฏ ุชุบููุฑ ุงูููุงููุช).

**ุงููููุงุช:** ุฅูุดุงุก `lib/features/widget/` ุฃู ุฏูุฌ ูู feature ููุฌูุฏ + ุชูุงูู ูุน `PrayerTimeService` ู`StorageService` (ููู streak).

---

## 2. ุฅุดุนุงุฑุงุช ุฐููุฉ ุชุชุนููู ูู ุณูููู (Smart Notifications)

**ุงูููุฑุฉ:** ุจุฏู ุชุฐููุฑ ุซุงุจุช (ูุซูุงู +ูฃู ุฏูููุฉ ุจุนุฏ ุงูุฃุฐุงู ููุฌููุน)ุ ุงูุชุทุจูู ูุชุนููู **ูุชู ุนุงุฏุฉู ูุณุฌูู ุงููุณุชุฎุฏู** (ุฃู ูุถุบุท "ูุงุญูุงู") ููููุฏูู ุชุฐููุฑุงู ูู ุงูููุช ุงูุฃูุณุจ.

**ููุงุฐุง ุฎุงุฑู:**
- ุชูููู ุฅุฒุนุงุฌ "ูุงุญูุงู" ุงููุชูุฑุฑ ูุฒูุงุฏุฉ ูุณุจุฉ ุงูุถุบุท ุนูู "ุตููุช".
- ุดุนูุฑ ุงููุณุชุฎุฏู ุฃู ุงูุชุทุจูู "ููููู".

**ุชูููุฐ ููุชุฑุญ:**
- ุชุฎุฒูู ุจุณูุท: ุขุฎุฑ ูกูคโูฃู ูุฑุฉ ุณุฌูู ูููุง ุงููุณุชุฎุฏู (ูุณุจุฉ ุฏูุงุฆู ุจุนุฏ ุงูุฃุฐุงู)ุ ุฃู ุขุฎุฑ ูุฑุงุช "ูุงุญูุงู".
- ุญุณุงุจ ูุงูุฐุฉ ุฒูููุฉ ููุชุฑุญุฉ (ูุซูุงู: "ุนุงุฏุฉู ุชุณุฌูู ุงูุนุตุฑ ุจูู +ูขู ู+ูคูฅ ุฏูููุฉ") ูุชุฃุฎูุฑ ุงูุชุฐููุฑ ุงูุฃูู ููุตุจุญ ูุฑุจ ูุฐู ุงููุงูุฐุฉ.
- ุฎูุงุฑ ูู ุงูุฅุนุฏุงุฏุงุช: "ุชุฐููุฑ ุฐูู" (ููุนูู) / "ุชุฐููุฑ ุจุนุฏ X ุฏูููุฉ ุฏุงุฆูุงู" (ููุฑุงุบุจูู ุจุงูุซุจุงุช).

**ุงููููุงุช:** `notification_service.dart`, `qada_detection_service.dart`, ุฅุถุงูุฉ `SmartReminderService` ุฃู ุชูุณูุน ุงูุฎุฏูุฉ ุงูุญุงููุฉ + ููุงุชูุญ ุชุฑุฌูุฉ.

---

## 3. ุชุญุฏูุงุช ุงูุนุงุฆูุฉ ูุณูุณูุฉ ุงูุนุงุฆูุฉ (Family Challenges & Streak)

**ุงูููุฑุฉ:** ุชุญููู "ูุฑู ูู ุตููู" ุฅูู **ูุนุจุฉ ุนุงุฆููุฉ**: ุชุญุฏู ุฃุณุจูุนู ("ูู ุงูุนุงุฆูุฉ ุชุตูู ุงููุฌุฑ ูฅ ุฃูุงู")ุ ุณูุณูุฉ ุนุงุฆููุฉ (ูู ุงูุฃุนุถุงุก ุตูููุง ุงูููู = ููู ููุนุงุฆูุฉ)ุ ูุฑุจูุง ุดุงุฑุงุช ุจุณูุทุฉ (ุฃุณุจูุน ูุงููุ ุดูุฑ ูุงูู).

**ููุงุฐุง ุฎุงุฑู:**
- ูุฑุจุท ุงูุนุงุฆูุฉ ุจุงูุชุทุจูู ูุนุงู ููุฒูุฏ ูุชุญ ุงูุดุงุดุฉ.
- ูุนุทู ูุฏูุงู ูุงุถุญุงู ุบูุฑ "ููุท ุณุฌูู" โ "ูููู ุงูุชุญุฏู ูุนุงู".

**ุชูููุฐ ููุชุฑุญ:**
- ูููุฐุฌ ุจูุงูุงุช: `FamilyChallenge` (ููุนุ ุชุงุฑูุฎ ุจุฏุงูุฉ/ููุงูุฉุ ุดุฑุท ุงูุฅูุฌุงุฒุ ุญุงูุฉ ูู ุนุถู).
- ุดุงุดุฉ/ูุณู ูู ููุญุฉ ุงูุนุงุฆูุฉ: "ุชุญุฏู ูุฐุง ุงูุฃุณุจูุน" + ุชูุฏู (ูค/ูฅ ุฃูุงู ูุฌุฑ)ุ ูุน ุงุญุชูุงู ุนูุฏ ุงูุฅูุฌุงุฒ.
- ุณูุณูุฉ ุนุงุฆููุฉ: ุนุฏุฏ ุฃูุงู ูุชุชุงููุฉ ุตููู ูููุง ุงูุฌููุน (ูุดุชู ูู ุงูู pulse/ุงูู logs ุงูุญุงููุฉ ุฅู ููุฌุฏุช).

**ุงููููุงุช:** `lib/features/family/` โ ููุงุฐุฌุ ุฎุฏูุฉุ ูุงุฌูุฉ "ุชุญุฏูุงุช" + ุชูุงูู ูุน ุงูู pulse ูุงูู logs.

---

## 4. ุชุฌุฑุจุฉ ูุถุงุก ุงูุตูุงุฉ ุจุฏูู ุถุฌุฑ (Qada Flow One-Tap)

**ุงูููุฑุฉ:** ุฌุนู ุชุนููุถ ุงูุตููุงุช ุงููุงุฆุชุฉ **ุณููุงู ููุงุถุญุงู**: ุดุงุดุฉ ูุงุญุฏุฉ ุชุฑู ูููุง "ูุง ูุงุช"ุ ูุน ุฎูุงุฑ "ุตููุช ุงููู โ" (ุชุณุฌูู ุฏูุนุฉ ูุงุญุฏุฉ ููููู/ุงููุชุฑุฉ) ุฃู ุชุณุฌูู ูู ุตูุงุฉ ุจุถุบุทุฉ ูุน ุงูุชุฑุงุญ ููุช ุฐูู.

**ููุงุฐุง ุฎุงุฑู:**
- ูุซูุฑูู ูุชุฌููุจูู ุงููุถุงุก ูุฃู ุงููุงุฌูุฉ ูุนูุฏุฉ ุฃู ุชุฐููุฑูู ุจูู ูุง ูุงุช. ุชุจุณูุทูุง ูุฒูุฏ ุงูุฅูุฌุงุฒ ููููู ุงูุดุนูุฑ ุจุงูุฐูุจ.

**ุชูููุฐ ููุชุฑุญ:**
- ูุงุฆูุฉ ูุงุถุญุฉ: ุฃูุณ / ูุจู ุฃูุณ / ุขุฎุฑ ูง ุฃูุงู ูุน ุนุฏุฏ ุงูุตููุงุช ุงููุงุฆุชุฉ.
- ุฒุฑ "ุณุฌููุช ูู ุตููุงุช [ุงูููู/ุงูุฃูุณ]" ููุชุญ ุชุฃููุฏุงู ุซู ูุณุฌูู ุงูุฏูุนุฉ (ุจุฃููุงุช ุงูุชุฑุงุถูุฉ ูุนูููุฉ ุฃู ูุทูุจ "ูู ุฃู ููุช ุชูุฑูุจุงู?").
- ุงูุงุญุชูุงู ุจุนุฏ ุงูุฅููุงู: "ุชู ุชุนููุถ ูฅ ุตููุงุช ๐".

**ุงููููุงุช:** `missed_prayers_screen.dart`, `qada_review_bottom_sheet.dart`, ุงูู controller ูุงูู repository ุงููุนููุฉ ุจุงููุถุงุก + ุชุฑุฌูุงุช.

---

## 5. ููุญุฉ ุฅุญุตุงุฆูุงุชู ุงูุดุฎุตูุฉ (Personal Stats & Heatmap)

**ุงูููุฑุฉ:** ุดุงุดุฉ "ุฅุญุตุงุฆูุงุชู" ุจุณูุทุฉ ูุฌูููุฉ: ูุณุจุฉ ุงูุตููุงุช ูู ุงูููุช (ูุฐุง ุงูุฃุณุจูุน / ุงูุดูุฑ)ุ ุฃุทูู ุณูุณูุฉุ ูุฑุจูุง **ุฎุฑูุทุฉ ุญุฑุงุฑูุฉ** (ูุซู GitHub) ูุฃูุงู ุงูุดูุฑ โ ูู ููู ุจููู ุญุณุจ "ูฅ/ูฅ" ุฃู "ูู ุฃููู".

**ููุงุฐุง ุฎุงุฑู:**
- ูุชุญููู ุงูุงูุชุฒุงู ูู "ุฃููุฏ ุณุฌููุช" ุฅูู **ูุตุฉ ูุฑุฆูุฉ** โ ูุญููุฒ ูููุดุนุฑ ุจุงูุฅูุฌุงุฒ.
- ูุงุจููุฉ ูุดุงุฑูุฉ ุจุณูุทุฉ ("ูุฐุง ุดูุฑู") ุชุฑููุฌ ุทุจูุนู ููุชุทุจูู.

**ุชูููุฐ ููุชุฑุญ:**
- ุงุณุชุนูุงูุงุช ูู ุงูู prayer logs (ูุญูู/ุณุญุงุจู): ุนุฏุฏ ุงูุฃูุงู "ูุงููุฉ"ุ ุฃุทูู streakุ ูุณุจุฉ "ูู ุงูููุช".
- ููุฏุฌุช/ุดุงุดุฉ: ุนููุงู + ุฃุฑูุงู + heatmap (ูุฑุจุนุงุช ุฃูุงู ุงูุดูุฑ ูุน ููู ุญุณุจ ุงูุญุงูุฉ).
- ูุง ุญุงุฌุฉ ูู ML: ุญุณุงุจุงุช ูุจุงุดุฑุฉ ูู ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ.

**ุงููููุงุช:** ุฅูุดุงุก `lib/features/stats/` ุฃู `lib/features/profile/stats_screen.dart`ุ ุงุณุชุฏุนุงุก `PrayerRepository` / Firestoreุ ููุฏุฌุช ููู heatmap (ููุชุจุฉ ุจุณูุทุฉ ุฃู CustomPainter).

---

## ููุฎุต ุฃููููุงุช ุงูุชูููุฐ

| # | ุงูุชุญุณูู              | ุงูุฃุซุฑ ุนูู ุงูุงุญุชูุงุธ | ุตุนูุจุฉ ุชูุฑูุจูุฉ |
|---|----------------------|----------------------|----------------|
| 1 | ููุฏุฌุช ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ | โญโญโญโญโญ              | ูุชูุณุทุฉ        |
| 2 | ุฅุดุนุงุฑุงุช ุฐููุฉ         | โญโญโญโญ               | ูุชูุณุทุฉโุนุงููุฉ  |
| 3 | ุชุญุฏูุงุช ุงูุนุงุฆูุฉ       | โญโญโญโญโญ              | ูุชูุณุทุฉ        |
| 4 | Qada One-Tap         | โญโญโญโญ               | ููุฎูุถุฉโูุชูุณุทุฉ |
| 5 | ุฅุญุตุงุฆูุงุช + Heatmap   | โญโญโญโญ               | ููุฎูุถุฉโูุชูุณุทุฉ |

ุจุฏุงูุฉ ุนูููุฉ ููุตู ุจูุง: **4 (Qada)** ุซู **5 (Stats)** ูุงุนุชูุงุฏูู ุนูู ุจูุงูุงุช ููุฌูุฏุฉ ููุงุฌูุงุช ูุงุถุญุฉุ ุซู **1 (Widget)** ููุธููุฑ ุงูููููุ ุจุนุฏูุง **3 (Challenges)** ู **2 (Smart Notifications)** ููุชููุฒ ุงูุญูููู.
